<!DOCTYPE html><html lang="en"><head ><meta charset="utf-8"><meta content="width=device-width, initial-scale=1" name="viewport"><title >Flix API Documentation</title><link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" rel="stylesheet"><link href="site.css" rel="stylesheet"></head><body ><div class="container-auto"><h1 >Monad</h1><h2 >Definitions</h2><div class="card" id="%3C%3D%3C%3Adefn"><div class="card-body"><div class="float-end"><a href="https://github.com/flix/flix/blob/v0.33.0/main/src/library/Monad.flix#L104-L104" target="_top"><i class="bi-link"></i></a></div><div ><code >def <span class="sym">&lt;=&lt;</span>[<span class="tparam">b</span>, <span class="tparam">ef1</span>, <span class="tparam">ef1</span>, <span class="tparam">m</span>, <span class="tparam">c</span>, <span class="tparam">a</span>, <span class="tparam">ef2</span>, <span class="tparam">ef2</span>](<span class="fparam">f1</span>: <span class="tpe">b -&gt; m[c] &amp; ef1 \ ef1&apos;</span>, <span class="fparam">f2</span>: <span class="tpe">a -&gt; m[b] &amp; ef2 \ ef2&apos;</span>): <span class="tpe">a -&gt; m[c] &amp; ef1 and ef2 \ {ef1&apos;, ef2&apos;}</span> &amp; <span class="effect">true</span> with <span class="clz">Monad</span>[<span class="tparam">m</span>]</code></div><div class="doc"><p><code>&lt;=&lt;</code> is an operator alias for <code>kleisliRight</code>.</p>
</div></div></div><div class="card" id="%3D%3C%3C%3Adefn"><div class="card-body"><div class="float-end"><a href="https://github.com/flix/flix/blob/v0.33.0/main/src/library/Monad.flix#L85-L85" target="_top"><i class="bi-link"></i></a></div><div ><code >def <span class="sym">=&lt;&lt;</span>[<span class="tparam">a</span>, <span class="tparam">ef</span>, <span class="tparam">ef</span>, <span class="tparam">m</span>, <span class="tparam">b</span>](<span class="fparam">k</span>: <span class="tpe">a -&gt; m[b] &amp; ef \ ef&apos;</span>, <span class="fparam">x</span>: <span class="tpe">m[a]</span>): <span class="tpe">m[b]</span> &amp; <span class="effect">ef</span> with <span class="clz">Monad</span>[<span class="tparam">m</span>]</code></div><div class="doc"><p><code>=&lt;&lt;</code> is an operator alias for <code>flatMap</code>.</p>
</div></div></div><div class="card" id="%3E%3D%3E%3Adefn"><div class="card-body"><div class="float-end"><a href="https://github.com/flix/flix/blob/v0.33.0/main/src/library/Monad.flix#L97-L97" target="_top"><i class="bi-link"></i></a></div><div ><code >def <span class="sym">&gt;=&gt;</span>[<span class="tparam">a</span>, <span class="tparam">ef1</span>, <span class="tparam">ef1</span>, <span class="tparam">m</span>, <span class="tparam">b</span>, <span class="tparam">ef2</span>, <span class="tparam">ef2</span>, <span class="tparam">c</span>](<span class="fparam">f1</span>: <span class="tpe">a -&gt; m[b] &amp; ef1 \ ef1&apos;</span>, <span class="fparam">f2</span>: <span class="tpe">b -&gt; m[c] &amp; ef2 \ ef2&apos;</span>): <span class="tpe">a -&gt; m[c] &amp; ef1 and ef2 \ {ef1&apos;, ef2&apos;}</span> &amp; <span class="effect">true</span> with <span class="clz">Monad</span>[<span class="tparam">m</span>]</code></div><div class="doc"><p><code>&gt;=&gt;</code> is an operator alias for <code>kleisliLeft</code>.</p>
</div></div></div><div class="card" id="%3E%3E%3D%3Adefn"><div class="card-body"><div class="float-end"><a href="https://github.com/flix/flix/blob/v0.33.0/main/src/library/Monad.flix#L92-L92" target="_top"><i class="bi-link"></i></a></div><div ><code >def <span class="sym">&gt;&gt;=</span>[<span class="tparam">m</span>, <span class="tparam">a</span>, <span class="tparam">ef</span>, <span class="tparam">ef</span>, <span class="tparam">b</span>](<span class="fparam">x</span>: <span class="tpe">m[a]</span>, <span class="fparam">k</span>: <span class="tpe">a -&gt; m[b] &amp; ef \ ef&apos;</span>): <span class="tpe">m[b]</span> &amp; <span class="effect">ef</span> with <span class="clz">Monad</span>[<span class="tparam">m</span>]</code></div><div class="doc"><p><code>&gt;&gt;=</code> is the operator <code>=&lt;&lt;</code> with its arguments flipped.</p>
<p><code>&gt;&gt;=</code> is the monadic bind operator.</p>
</div></div></div><div class="card" id="flatten%3Adefn"><div class="card-body"><div class="float-end"><a href="https://github.com/flix/flix/blob/v0.33.0/main/src/library/Monad.flix#L63-L63" target="_top"><i class="bi-link"></i></a></div><div ><code >def <span class="sym">flatten</span>[<span class="tparam">m</span>, <span class="tparam">a</span>](<span class="fparam">x</span>: <span class="tpe">m[m[a]]</span>): <span class="tpe">m[a]</span> &amp; <span class="effect">true</span> with <span class="clz">Monad</span>[<span class="tparam">m</span>]</code></div><div class="doc"><p>The monadic <code>join</code> operator.
Flatten <code>x</code> - a monadic action nested in an outer monadic layer - to a single layer.</p>
<p>E.g. for the Option monad: <code>flatten(Some(Some(1)))</code> becomes <code>Some(1)</code>.</p>
</div></div></div><div class="card" id="kleisliLeft%3Adefn"><div class="card-body"><div class="float-end"><a href="https://github.com/flix/flix/blob/v0.33.0/main/src/library/Monad.flix#L70-L70" target="_top"><i class="bi-link"></i></a></div><div ><code >def <span class="sym">kleisliLeft</span>[<span class="tparam">a</span>, <span class="tparam">ef1</span>, <span class="tparam">ef1</span>, <span class="tparam">m</span>, <span class="tparam">b</span>, <span class="tparam">ef2</span>, <span class="tparam">ef2</span>, <span class="tparam">c</span>](<span class="fparam">f1</span>: <span class="tpe">a -&gt; m[b] &amp; ef1 \ ef1&apos;</span>, <span class="fparam">f2</span>: <span class="tpe">b -&gt; m[c] &amp; ef2 \ ef2&apos;</span>, <span class="fparam">x</span>: <span class="tpe">a</span>): <span class="tpe">m[c]</span> &amp; <span class="effect">ef1 and ef2</span> with <span class="clz">Monad</span>[<span class="tparam">m</span>]</code></div><div class="doc"><p>The left-to-right Kleisli composition operator for monads.</p>
<p>Map <code>x</code> with the monadic function <code>f1</code> and then map its result with the function <code>f2</code>.</p>
</div></div></div><div class="card" id="kleisliRight%3Adefn"><div class="card-body"><div class="float-end"><a href="https://github.com/flix/flix/blob/v0.33.0/main/src/library/Monad.flix#L78-L78" target="_top"><i class="bi-link"></i></a></div><div ><code >def <span class="sym">kleisliRight</span>[<span class="tparam">b</span>, <span class="tparam">ef1</span>, <span class="tparam">ef1</span>, <span class="tparam">m</span>, <span class="tparam">c</span>, <span class="tparam">a</span>, <span class="tparam">ef2</span>, <span class="tparam">ef2</span>](<span class="fparam">f1</span>: <span class="tpe">b -&gt; m[c] &amp; ef1 \ ef1&apos;</span>, <span class="fparam">f2</span>: <span class="tpe">a -&gt; m[b] &amp; ef2 \ ef2&apos;</span>, <span class="fparam">x</span>: <span class="tpe">a</span>): <span class="tpe">m[c]</span> &amp; <span class="effect">ef1 and ef2</span> with <span class="clz">Monad</span>[<span class="tparam">m</span>]</code></div><div class="doc"><p>The right-to-left Kleisli composition operator for monads.</p>
<p>Map <code>x</code> with the monadic function <code>f2</code> and then map its result with the function <code>f1</code>.</p>
</div></div></div></div><script crossorigin="anonymous" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script></body></html>
