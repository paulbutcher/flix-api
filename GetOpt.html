<!DOCTYPE html><html lang="en"><head ><meta charset="utf-8"><meta content="width=device-width, initial-scale=1" name="viewport"><title >Flix API Documentation</title><link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" rel="stylesheet"><link href="site.css" rel="stylesheet"></head><body ><div class="container-auto"><h1 >GetOpt</h1><h2 >Enums</h2><div class="card" id="ArgDescr%3Aenum"><div class="card-body"><div class="float-end"><a href="https://github.com/flix/flix/blob/v0.33.0/main/src/library/GetOpt.flix#L49-L49" target="_top"><i class="bi-link"></i></a></div><code >enum <span class="sym">ArgDescr</span>[<span class="tparam">a</span>: <span class="kind">Type</span>]</code><div ><code >case <span class="tag">NoArg</span>(<span class="tpe">a</span>)</code></div><div ><code >case <span class="tag">ReqArg</span>(<span class="tpe">(String -&gt; Option[a], String)</span>)</code></div><div ><code >case <span class="tag">OptArg</span>(<span class="tpe">(Option[String] -&gt; Option[a], String)</span>)</code></div><div class="doc"><p><code>ArgDescr</code> defines whether or not the option takes an argument.</p>
<ul>
<li><code>NoArg</code> expects no argument. The constructor takes a value of type <code>a</code> indicating the option that has been recognized.</li>
<li><code>ReqArg</code> mandates an argument. The constructor takes a function to decode the argument and description string.</li>
<li><code>OptArg</code> optionally requires an argument. The constructor takes a function to decode the argument and description string.</li>
</ul>
<p>The &quot;decode&quot; functions are expected to produce <code>Some(_)</code> when decoding is successful, and <code>None</code> to indicate
failure.</p>
</div></div></div><div class="card" id="ArgOrder%3Aenum"><div class="card-body"><div class="float-end"><a href="https://github.com/flix/flix/blob/v0.33.0/main/src/library/GetOpt.flix#L33-L33" target="_top"><i class="bi-link"></i></a></div><code >enum <span class="sym">ArgOrder</span>[<span class="tparam">a</span>: <span class="kind">Type</span>]</code><div ><code >case <span class="tag">RequireOrder</span>(<span class="tpe">Unit</span>)</code></div><div ><code >case <span class="tag">Permute</span>(<span class="tpe">Unit</span>)</code></div><div ><code >case <span class="tag">ReturnInOrder</span>(<span class="tpe">String -&gt; a</span>)</code></div><div class="doc"><p><code>ArgOrder</code> defines how to parse further arguments that follow non-options.</p>
<ul>
<li><code>RequireOrder</code> after the first non-option all remain arguments are treated as non-options</li>
<li><code>Permute</code> options and non-options are freely interspersed in the input stream</li>
<li><code>ReturnInOrder</code> turn non-options into options by applying the supplied function</li>
</ul>
</div></div></div><h2 >Type Aliases</h2><div class="card" id="OptionDescr%3Aalias"><div class="card-body"><div class="float-end"><a href="https://github.com/flix/flix/blob/v0.33.0/main/src/library/GetOpt.flix#L80-L80" target="_top"><i class="bi-link"></i></a></div><code >type alias <span class="sym">OptionDescr</span>[<span class="tparam">a</span>: <span class="kind">Type</span>] = <span class="tpe">{ argDescriptor = ArgDescr[a], explanation = String, optionIds = List[Char], optionNames = List[String] }</span></code><div class="doc"><p>An <code>OptionDescr</code> describes a single command line option.</p>
<ul>
<li><code>optionIds</code> is a list of single character abbreviations identifying the option</li>
<li><code>optionNames</code> is a list of long names identifying the option</li>
<li><code>argDescriptor</code> defines the format of the option</li>
<li><code>explanation</code> is the description of the option printed to the user by the function <code>usageInfo</code></li>
</ul>
</div></div></div><h2 >Definitions</h2><div class="card" id="getOpt%3Adefn"><div class="card-body"><div class="float-end"><a href="https://github.com/flix/flix/blob/v0.33.0/main/src/library/GetOpt.flix#L152-L152" target="_top"><i class="bi-link"></i></a></div><div ><code >def <span class="sym">getOpt</span>[<span class="tparam">a</span>](<span class="fparam">ordering</span>: <span class="tpe">ArgOrder[a]</span>, <span class="fparam">optDescriptors</span>: <span class="tpe">List[OptionDescr[a]]</span>, <span class="fparam">sourceArgs</span>: <span class="tpe">List[String]</span>): <span class="tpe">Validation[{ nonOptions = List[String], options = List[a] }, String]</span> &amp; <span class="effect">true</span></code></div><div class="doc"><p>Decode the list of command line options supplied to the program.</p>
<p><code>ordering</code> mandates how processing of options and non-options is handled.</p>
<p><code>optDescriptors</code> is a list of processors for decoding individual options.</p>
<p><code>sourceArgs</code> should be the list of command line arguments supplied to the program.</p>
<p>If successful, <code>getOpt</code> returns lists of decoded options and non-options. If unsuccessful it
returns a non-empty list of error messages, with unknown options considered to be errors.</p>
</div></div></div><div class="card" id="getOpt1%3Adefn"><div class="card-body"><div class="float-end"><a href="https://github.com/flix/flix/blob/v0.33.0/main/src/library/GetOpt.flix#L171-L171" target="_top"><i class="bi-link"></i></a></div><div ><code >def <span class="sym">getOpt1</span>[<span class="tparam">a</span>](<span class="fparam">ordering</span>: <span class="tpe">ArgOrder[a]</span>, <span class="fparam">optDescriptors</span>: <span class="tpe">List[OptionDescr[a]]</span>, <span class="fparam">sourceArgs</span>: <span class="tpe">List[String]</span>): <span class="tpe">{ errors = List[String], nonOptions = List[String], options = List[a], unknowns = List[String] }</span> &amp; <span class="effect">true</span></code></div><div class="doc"><p>This is a more general version of <code>getOpt</code> that returns all the results of decoding the command line
options without distinguishing whether the decoding is successful or a failure.</p>
<p>Client code calling this function, rather than <code>getOpt</code>, is free to process or ignore the results collected
in <code>unknowns</code> and <code>errors</code> which would indicate problems with the decoding if either were not empty.</p>
</div></div></div><div class="card" id="preprocess%3Adefn"><div class="card-body"><div class="float-end"><a href="https://github.com/flix/flix/blob/v0.33.0/main/src/library/GetOpt.flix#L375-L375" target="_top"><i class="bi-link"></i></a></div><div ><code >def <span class="sym">preprocess</span>[](<span class="fparam">options</span>: <span class="tpe">{ quoteClose = String, quoteOpen = String, stripQuoteMarks = Bool }</span>, <span class="fparam">args</span>: <span class="tpe">List[String]</span>): <span class="tpe">List[String]</span> &amp; <span class="effect">true</span></code></div><div class="doc"><p>Preprocess the command line arguments before parsing them.</p>
<p>Arguments supplied as an <code>List[String]</code> to the program are simply derived from the input split on space.
This does not account for, for example, Windows file names which may include space.</p>
<p><code>preprocess</code> is a simple function that can be used to &quot;rejoin&quot; command line arguments if they were
joined by &quot;quotation marks&quot; in the user supplied string (quotations marks are configurable and do not
have to be double quotes).</p>
</div></div></div><div class="card" id="usageInfo%3Adefn"><div class="card-body"><div class="float-end"><a href="https://github.com/flix/flix/blob/v0.33.0/main/src/library/GetOpt.flix#L93-L93" target="_top"><i class="bi-link"></i></a></div><div ><code >def <span class="sym">usageInfo</span>[<span class="tparam">a</span>](<span class="fparam">header</span>: <span class="tpe">String</span>, <span class="fparam">optionDescriptors</span>: <span class="tpe">List[OptionDescr[a]]</span>): <span class="tpe">String</span> &amp; <span class="effect">true</span></code></div><div class="doc"><p>Return a formatted string describing the usage of the command.</p>
<p>Typically this output is used by &quot;--help&quot;</p>
</div></div></div></div><script crossorigin="anonymous" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script></body></html>
